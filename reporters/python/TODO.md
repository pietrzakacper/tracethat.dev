* [x] Split architecture
* [x] Add tests
* [x] Report exceptions 
* [ ] Support coroutines
* [ ] Add runtime config
* [ ] Thread safety
* [ ] Manage exiting
* [ ] Set up linter
* [ ] Manage connection health (stale/reopening/error handling)
* [ ] Add e2e tests
* [ ] Release to pip